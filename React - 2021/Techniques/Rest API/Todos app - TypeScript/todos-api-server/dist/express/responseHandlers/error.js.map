{"version":3,"file":"error.js","sourceRoot":"","sources":["../../../src/express/responseHandlers/error.ts"],"names":[],"mappings":";;;;;AAIA,gEAAwC;AAQxC,MAAM,aAAa,GAAkB,CACnC,GAAoB,EACpB,GAAqB,EACrB,OAAgB,EAChB,KAAc,EACd,MAAM,GAAG,GAAG,EACN,EAAE;IACR,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IAClC,OAAO,CAAC,GAAG,CAAC,KAAK,YAAY,KAAK,CAAC,CAAC;IACpC,OAAO,CAAC,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC;IAC5B,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAI1B,CAAC,CAAC;AAcF,MAAM,cAAc,GAAG,CAAC,EACtB,GAAG,EACH,GAAG,EACH,MAAM,GAAG,GAAG,EACZ,OAAO,EACP,OAAO,EACP,KAAK,GACU,EAAoB,EAAE;IACrC,IAAI,OAAO,EAAE;QACX,gBAAM,CAAC,OAAO,CAAC,GAAG,CAAC;YACjB,KAAK,EAAE,OAAO;YACd,OAAO,EAAE,KAAK,GAAG,CAAC,MAAM,MAAM,MAAM,MAAM,OAAO,MAAM,GAAG,CAAC,WAAW,MAAM,GAAG,CAAC,EAAE,MAAM,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE;SACxH,CAAC,CAAC;QAEH,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACzC;IAED,OAAO,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;AA8BhC,CAAC,CAAC;AAEF,kBAAe,aAAa,CAAC","sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable max-len */\n\nimport express from 'express';\nimport logger from '../../utils/logger';\n\ninterface ResponseError {\n  (req: express.Request, res: express.Response, message: string, error: Array<Record<string, unknown>>, status?: number,): void;\n  (req: express.Request, res: express.Response, message: null, error: Error, status?: number): void;\n  (req: express.Request, res: express.Response, message: string, error: null, status?: number): void;\n}\n\nconst responseError: ResponseError = (\n  req: express.Request,\n  res: express.Response,\n  message: unknown,\n  error: unknown,\n  status = 400,\n): void => {\n  console.log(Array.isArray(error));\n  console.log(error instanceof Error);\n  console.log(error === null);\n  console.log('--------');\n  // console.log(message);\n  // console.log(error);\n  // console.log(status);\n};\n\ntype ResponseError3 = {\n  req: express.Request;\n  res: express.Response;\n  status: number;\n  message?: string;\n  payload?: Array<Record<string, unknown>>;\n  error?: Error;\n};\n\n/**\n * Sends and logs a HTTP `error` response\n */\nconst responseError3 = ({\n  req,\n  res,\n  status = 400,\n  message,\n  payload,\n  error,\n}: ResponseError3): express.Response => {\n  if (message) {\n    logger.express.log({\n      level: 'error',\n      message: `[ ${req.method} ] ${status} - ${message} - ${req.originalUrl} - ${req.ip} - ${String(req.get('user-agent'))}`,\n    });\n\n    return res.status(status).send(message);\n  }\n\n  return res.sendStatus(status);\n\n  /* if (error) {\n    logger.express.log({\n      level: 'error',\n      message: `[ ${req.method} ] ${status} - ${error.name} - ${error.message} - ${req.originalUrl} - ${req.ip} - ${req.get('user-agent')}`,\n    });\n\n    return res.status(status).send(`${error.name} - ${error.message}`);\n  }\n\n  if (message && payload) {\n    logger.express.log({\n      level: 'error',\n      message: `[ ${req.method} ] ${status} - ${message} - ${req.originalUrl} - ${req.ip} - ${req.get('user-agent')}`,\n    });\n\n    return res.status(status).json({ error: payload });\n  }\n\n  if (message) {\n    logger.express.log({\n      level: 'error',\n      message: `[ ${req.method} ] ${status} - ${message} - ${req.originalUrl} - ${req.ip} - ${req.get('user-agent')}`,\n    });\n\n    return res.status(status).send(message);\n  }\n\n  return res.sendStatus(status); */\n};\n\nexport default responseError;\n"]}